// eslint-disable-next-line no-prototype-builtins
import Cookies from"js-cookie";import{_ms}from"./consts";export const view=e=>()=>import(`@/views/${e}.vue`);export const layout=e=>()=>import(`@/layouts/${e}.vue`);export const fixType=e=>{const t={true:!0,false:!1,null:null,undefined:void 0};return+e?+e:e in t?t[e]:e};export const qs={stringify(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")},parse:e=>e.split("&").reduce((e,t)=>{let[o,r]=t.split("=");return{...e,[o]:fixType(r)}},{})};export const camelToSnake=e=>e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`);export const snakeToCamel=e=>"string"==typeof e?e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace("-","").replace("_","")):Array.isArray(e)?e.map(e=>snakeToCamel(e)):Object.entries(e).reduce((e,[t,o])=>(e[snakeToCamel(t)]=o&&"object"==typeof o?snakeToCamel(o):o,e),{});export const isEmpty=e=>!(!Array.isArray(e)||e.length)||("object"==typeof e&&!Object.keys(e).length||[void 0,null,""].includes(e));export const miniId=(e=3)=>Math.random().toString(36).slice(e<=10?-e:-10);export const toSuccess=e=>{if("error"===e.status)return toError(e);let t={...e};return delete t.code,delete t.status,{...t,error:!1,success:!0,statusCode:e.code,statusText:e.status,message:e.message||"Request succeeded"}};export const toError=e=>{let t={error:!0,success:!1};if(e.response){const o=e.response;t={...t,statusCode:o.status,statusText:o.statusText},o.data.errors&&(t.errors=o.data.errors),o.message&&(t.message=o.message)}return t.message=t.message||e.message,t};export const toFormData=e=>{let t=new FormData;return Object.entries(e).forEach(([e,o])=>{t.append(e,o)}),t};export const cookies={set(...e){if("object"!=typeof e)throw new Error("Cookies have to be an object or array.");e.forEach(({key:e,value:t,secure:o=!1,expires:r=Date.now()+_ms.week})=>{Cookies.set(e,t,{expires:r,secure:o})})},get:(...e)=>e.reduce((e,t)=>(e[t]=fixType(Cookies.get(t)),e),{}),remove(...e){e.forEach(e=>{Cookies.remove(e)})}};export const formatDate=e=>{let t=e?new Date(e):new Date,o=""+(t.getMonth()+1),r=""+t.getDate(),s=t.getFullYear();return o.length<2&&(o="0"+o),r.length<2&&(r="0"+r),[s,o,r].join("-")};export const hasHistory=()=>window.history.length>2;export const sleep=(e,t)=>new Promise(o=>{setTimeout(()=>o(),"s"===t?1e3*e:"m"===t?60*e*1e3:"h"===t?60*e*60*1e3:e)});export const to12Hour=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?" AM":" PM",e[0]=+e[0]%12||12),e.join(""));